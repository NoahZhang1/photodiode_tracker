<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="node_modules/smoothie/smoothie.js"></script>
    <!-- <script src = "http://localhost:3000/socket.io/socket.io.js"></script> -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js'></script>
    <!-- <script src="server.js"></script> -->

    <!-- <script type="text/javascript">
      var L1 = new TimeSeries();

      setInterval(function() {
        L1.append(Date.now(), Math.random() * 10000);
      }, 500);
      
      function createTimeline() {
        var chart = new SmoothieChart();
        chart.addTimeSeries(L1, { strokeStyle: 'rgba(0, 255, 0, 1)', fillStyle: 'rgba(0, 255, 0, 0.2)', lineWidth: 4 });
        chart.streamTo(document.getElementBygId("chart"), 500);
      }
    </script> -->

  </head>
  <!-- onload = createTimeline() -->
  <body style="background-color:#333333"> 
    <canvas id="chart" width="800" height="400"></canvas>

    <script>
      var chart = new SmoothieChart({timestampFormatter:SmoothieChart.timeFormatter, interpolation:'step',millisPerPixel:1,maxValue:300,minValue:50});
      var L1 = new TimeSeries();
      const socket = io('http://localhost:3000');

      socket.on('data', function(data){
        // console.log(data)
        L1.append(Date.now(), data)
        
      })


      
      chart.addTimeSeries(L1, { strokeStyle: 'rgba(0, 255, 0, 1)', fillStyle: 'rgba(0, 255, 0, 0.2)', lineWidth: 4 });
      chart.streamTo(document.getElementById("chart"),100);

    </script>
      


  </body>
</html>
